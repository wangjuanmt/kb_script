#!/usr/bin/env bash

CHROME_CACHE_DIR=$HOME/.cache/google-chrome
CHROMIUM_CACHE_DIR=$HOME/.cache/chromium
BROWSER_CACHE_RAMDISK_MNT_DIR=/media/BrowserCache
CHROME_CACHE_RAMDISK_MNT_DIR=$BROWSER_CACHE_RAMDISK_MNT_DIR/chrome
CHROMIUM_CACHE_RAMDISK_MNT_DIR=$BROWSER_CACHE_RAMDISK_MNT_DIR/chromium

# Remove existing cache folder
sudo rm -rf $CHROME_CACHE_DIR
sudo rm -rf $CHROMIUM_CACHE_DIR

# Create a folder for chrome cache and create link
mkdir $CHROME_CACHE_RAMDISK_MNT_DIR
ln -s $CHROME_CACHE_RAMDISK_MNT_DIR $CHROME_CACHE_DIR
chown -R $TARGET_USER:$TARGET_USER $CHROME_CACHE_RAMDISK_MNT_DIR
chown $TARGET_USER:$TARGET_USER $CHROME_CACHE_DIR

# Create a folder for chromium cache and create link
mkdir $CHROMIUM_CACHE_RAMDISK_MNT_DIR
ln -s $CHROMIUM_CACHE_RAMDISK_MNT_DIR $CHROMIUM_CACHE_DIR
chown -R $TARGET_USER:$TARGET_USER $CHROMIUM_CACHE_RAMDISK_MNT_DIR
chown $TARGET_USER:$TARGET_USER $CHROMIUM_CACHE_DIR
